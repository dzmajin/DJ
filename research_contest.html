<!DOCTYPE html>
<html lang="ko">
    <head>
        <link rel="icon" type="image/x-icon" href="">
        <link rel="icon" type="image/svg+xml" href="">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="format-detection" content="telephone=no">
        <title>대진 On 정보-연구 정보</title>
        <link rel="stylesheet" type="text/css" href="css/common.css">
        <link rel="stylesheet" type="text/css" href="css/reset.css">
        <link rel="stylesheet" type="text/css" href="css/main_DJ.css">
        <link rel="stylesheet" type="text/css" href="css/sub.css">
        <link rel="stylesheet" type="text/css" href="css/swiper-bundle.min.css">
        <link rel="stylesheet" type="text/css" href="css/Calendar.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script type="text/javascript" src="js/jquery.min.js"></script>
        <script type="text/javascript" src="js/swiper-bundle.min.js"></script>
        <script type="text/javascript" src="js/common.js"></script>
        <script type="text/javascript" src="js/Calendar.js"></script>
    </head>

    <body class="research_contest">
        <div class="wrap">

        <!-- Chatbot 시작 -->
		<div id="chatbot-button">
			<button onclick="toggleChatbot()">
				<img src="image/cb.png" alt="Chatbot" />
			</button>
		</div>
		<div id="chatbot-popup">
			<div class="chatbot-header">
				<h4>대진 On 정보 챗봇</h4>
				<button class="cbclose" onclick="toggleChatbot()">✖</button>
			</div>
			<div id="chat-messages"></div>
			<div class="chat-input-area">
				<input type="text" id="chat-input" placeholder="메시지를 입력하세요.">
				<button onclick="sendMessage()">Send</button>
			</div>
		</div>
	<!-- Chatbot 끝 -->
    
    <!-- Header 시작 -->
            <header id="header" class="header">
        
                <div class="top-wrap">
                    <div class="flex-fs">
                        <button type="button" class="all-menu"><span class="hidden">전체메뉴</span></button>
                        <a href="main.html" class="home-logo">
                            <img src="image/DJ_logo.png" alt="대진On정보">
                        </a>
        
                        <nav class="gnb-wrap">
                            <div class="flex-sb">
                                <ul class="gnb-menu">
                                    
                                        <li>
                                            <a href="employment_info.html" class="depth1 hover"><strong class="left_title_strong"><strong class="top_title_strong">취업정보</strong></strong></a>
                                            <ul class="sub-list" style="display: none;">
                                                
                                                    <li>
                                                        <a href="employment_info.html" class="depth2"> 취업사이트</a>
                                                    </li>
                                                
                                                    <li>
                                                        <a href="careerMap.html" class="depth2"> 취업로드맵</a>
                                                    </li>

                                                    <li>
                                                        <a href="sbn.html" class="depth2"> 취업 현황</a>
                                                    </li>
        
                                            </ul>
                                        </li>
                        
                                    
                                        <li>
                                            <a href="research_contest.html" class="depth1"><strong class="left_title_strong"><strong class="top_title_strong">연구정보</strong></strong></a>
                                            <ul class="sub-list" style="display: none;">
                                                
                                                    <li>
                                                        <a href="research_contest.html" class="depth2"> 공모전일정 </a>
                                                    </li>
                                                
                                                    <li>
                                                        <a href="academic.html" class="depth2"> 학술사이트 </a>
                                                    </li>
                                            </ul>
                                        </li>
                        
                                        <li>
                                            <a href="document.html" class="depth1"><strong class="left_title_strong"><strong class="top_title_strong">커뮤니티</strong></strong></a>
                                            <ul class="sub-list" style="display: none;">
                                                
                                                    <li>
                                                        <a href="document.html" class="depth2"> 자료실 </a>
                                                    </li>
                                                
                                                    <li>
                                                        <a href="share.html" class="depth2"> 주제공유 </a>
                                                    </li>

                                                    <li>
                                                        <a href="community.html" class="depth2"> 자유게시판 </a>
                                                    </li>
                                            </ul>
                                        </li>
        
                                        <li>
                                            <a href="counsel.html" class="depth1"><strong class="left_title_strong"><strong class="top_title_strong">취업준비</strong></strong></a>
                                            <ul class="sub-list" style="display: none;">
        
                                            <li>
                                                <a href="counsel.html" class="depth2"> 상담 </a>
                                            </li>
        
                                            <li>
                                                <a href="test.html" class="depth2"> 검사 </a>
                                            </li>
                                            </ul>
                                        </li>
                                </ul>
                            </div>
                        </nav>
                        <div class="gnb-bg" style="display: none;">
                            <div class="flex-sb">
                                <p class="txt-info"><strong class="stress2"></strong></p>
                                <ul class="mypage-menu">
                                    <li>
                                        <a href="mypage.html" class="depth1">마이페이지</a>
                                        <ul class="">
                                            <li><a href="#" class="depth2">학습 진척도</a></li>
                                            <li><a href="myPosts.html" class="depth2">나의 기록</a></li>
                                            <li><a href="editProfile.html" class="depth2">내 정보 수정</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <ul class="util-menu">
                            <li class="login"><a href="login.html" class="btn sm">로그인</a></li>
                        </ul>
                    </div>
                </div>
            </header>
    <!-- Header 끝 -->

<!-- content 시작 -->
            <main id="container" class="container">
                <section id="content" class="content">
                    <header class="tit-area">
                        <h1 class="tit-type1">연구정보</h1>
                    </header>
                    <div class="swiper tab type1 swiper-initialized swiper-horizontal swiper-free-mode swiper-backface-hidden">
                        <div class="swiper-wrapper">
                            <a href="research_contest.html" class="swiper-slide current swiper-slide-active"><span class="txt">공모전 일정</span></a>
                            <a href="academic.html" class="swiper-slide"><span class="txt">학술사이트</span></a>
                        </div>
                        <div class="swiper-button-next swiper-button-disabled swiper-button-lock"></div>
                    </div>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>

                    <div class="wrapper">
                        <header>
                            <div class="nav">
                                <button id="prev" class="material-icons"> chevron_left </button>
                                <p class="current-date"></p>
                                <button id="next" class="material-icons"> chevron_right </button>
                            </div>
                        </header>
                        <table>
                            <caption class="blind">달력</caption>
                            <thead>
                                <tr>
                                    <th scope="col">일</th>
                                    <th scope="col">월</th>
                                    <th scope="col">화</th>
                                    <th scope="col">수</th>
                                    <th scope="col">목</th>
                                    <th scope="col">금</th>
                                    <th scope="col">토</th>
                                </tr>
                            </thead>
                            <tbody id="calendar-body">
                                <!-- 자바스크립트로 날짜가 동적으로 생성 -->
                            </tbody>
                        </table>
                    </div>

                    <!-- 팝업 창 추가 -->
                    <div id="popup" class="popup-overlay" style="display: none;">
                        <div class="popup-content">
                            <span class="close-btn">&times;</span>
                            <h2 id="popup-title">공모전 정보</h2>
                            <p id="popup-details">공모전 세부 정보가 여기에 표시됩니다.</p>
                        </div>
                    </div>

                    <!-- 공모전 일정 테이블 -->
                    <h2 class="tit-type2">공모전 일정</h2>
                    <div class="contest-schedule-box">
                        <table id="contestTable">
                            <thead>
                                <tr>
                                    <th>공모전 제목</th>
                                    <th>주최 기관</th>
                                    <th>접수기간</th>
                                    <th>남은 기간</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- API로부터 데이터를 받아 여기에 추가할 예정 -->
                            </tbody>
                        </table>
                    </div>

                </section>
            </main>
    <!-- content 끝 -->

    <!-- footer 시작 -->
		<footer id="footer" class="footer">
			<div class="util-wrap">
				<div class="info-menu">
					<img src="image/DJ_logo_clear.png" class="clearlogo" alt="footer 투명 로고">
					<span class="txt">제작자</span>
					<span class="txt">김명진 이가은 최소현 최재원</span>
				</div>
			</div>
			<p class="copyright">
				COPYRIGHTS 2024 K.L.C.C ALL RIGHTS RESERVED.
			</p>
		</footer>
	<!-- footer 끝 -->

    <script>
        // 챗봇 시작
        function toggleChatbot() {
            const popup = document.getElementById("chatbot-popup");
            const messagesDiv = document.getElementById("chat-messages");

            if (popup.style.display === "flex") {
                popup.style.display = "none"; // 팝업 닫기
                messagesDiv.innerHTML = ""; // 메시지 기록 초기화
            } else {
                popup.style.display = "flex"; // 팝업 열기
                initializeChatbot(); // 챗봇 초기 메시지 표시
            }
        }

        // 챗봇 메시지
        function initializeChatbot() {
            const welcomeMessage = `
                안녕하세요 디온이 입니다.<br>
                아래 버튼을 눌러 디온이를 이용해보세요!
                <div class="buttons-container">
                    <button class="choose-button" onclick="showGuide()">디온이 가이드</button>
                    <button class="choose-button" onclick="showScheduleOptions()">공모전 일정 안내</button>
                </div>
            `;

            addMessage("bot", welcomeMessage);
        }

        function showGuide() {
            const guideMessage = `
                디온이를 이용해 주셔서 감사합니다!<br>
                1. 공모전 일정을 확인하려면 '공모전 일정 안내'를 클릭하세요.<br>
                2. 원하는 공모전 분야를 선택하면 해당 정보를 제공받을 수 있습니다.<br>
                디온이를 통해 유용한 정보를 얻어가세요!
            `;
            addMessage("bot", guideMessage);
        }

        function showScheduleOptions() {
            const categories = ["AI", "빅데이터", "SW", "게임", "보안", "앱"];
            let buttonsHTML = '<div class="buttons-container">';
            categories.forEach((category) => {
                buttonsHTML += `<button class="category-button" onclick="handleCategorySelection('${category}')">${category}</button>`;
            });
            buttonsHTML += "</div>";

            const scheduleMessage = `
                아래에서 관심 있는 공모전 분야를 선택하세요!
                ${buttonsHTML}
            `;
            addMessage("bot", scheduleMessage);
        }

        function handleCategorySelection(category) {
            addMessage("user", `공모전 분야: ${category}`);

            setTimeout(() => {
                const responseMessage = `
                    '${category}' 분야의 공모전 일정은 다음과 같습니다:<br>
                    - 공모전 1: 2024-01-15 ~ 2024-02-15<br>
                    - 공모전 2: 2024-03-01 ~ 2024-04-01<br>
                    더 자세한 정보는 디온이를 통해 확인해 보세요!
                `;
                addMessage("bot", responseMessage);
            }, 500);
        }


        // 메시지 추가
        function addMessage(sender, text) {
            const messagesDiv = document.getElementById("chat-messages");
            const messageDiv = document.createElement("div");
            messageDiv.className = sender;

            // 메시지 내용 렌더링 방식 결정
            if (sender === "bot") {
                messageDiv.innerHTML = text; // HTML 렌더링
            } else {
                messageDiv.textContent = text; // 일반 텍스트 렌더링
            }

            messagesDiv.appendChild(messageDiv);

            // 메시지 추가 후 스크롤 하단으로 이동
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        // 대답 메시지
        function sendMessage() {
            const input = document.getElementById("chat-input");
            const message = input.value.trim();
            if (message) {
                addMessage("user", message); // 사용자 메시지 추가
                input.value = ""; // 입력 필드 초기화

                // 챗봇 대답
                setTimeout(() => {
                    addMessage("bot", "안녕하세요 디온이 입니다.");
                }, 500);
            }
        }

        // 엔터키 누르면 보내기
        document.getElementById("chat-input").addEventListener("keydown", (event) => {
            if (event.key === "Enter") {
                sendMessage(); // Enter 키 입력 시 메시지 전송
                event.preventDefault(); // 기본 Enter 동작(줄바꿈) 방지
            }
        });

        // 초기화
        document.addEventListener("DOMContentLoaded", () => {
            const popup = document.getElementById("chatbot-popup");
            popup.style.display = "none"; // 초기 상태는 숨김
        });

    </script>

        </div>     
    </body>
</html>